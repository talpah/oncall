{% extends 'THLOnCallBundle::layout.html.twig' %}

{% block javascripts %}
    {% javascripts
    'http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'
    'http://code.jquery.com/ui/1.10.0/jquery-ui.js'
    '@THLOnCallBundle/Resources/public/js/data-table.js'
    '@THLOnCallBundle/Resources/public/js/oncall.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block title %}On Call - Main{% endblock %}

{% block body %}

    {% include 'THLOnCallBundle:Default:datatable.html.twig' %}

{% endblock %}

{% block javascriptinline %}
    <script type="text/javascript">
        var dTable;
        $(document).ready(function () {
            dTable = new DataTable(
                    $('#dataTable'),
                    '{{ path('thl_oncall_default_jsongetassignments') }}',
                    {
                        postData: {
                            start: '{{ periodStart }}',
                            end: '{{ periodEnd }}'
                        },
                        skipWeekends: true
                    }
            );
        });
    </script>
{% endblock %}